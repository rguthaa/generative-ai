<<<External Knowledge>>>
Discount Rules Document:
- 10% discount applies if cart total exceeds $200.
- 20% discount applies if the user is a loyalty member and the cart total exceeds $500.
- No discount applies to gift card purchases.
- Taxes are calculated after the discount is applied.
<<<End External Knowledge>>>

Task:
Generate 5 test cases covering all the discount rules above. Each test case should include the input, action, and expected output.